<script type="text/javascript" src="js/view/flow.js"></script>
<script type="text/javascript" src="js/view/raphael.js"></script>
<div class="wrapper">


            <!-- Content head -->
		        <% include ../includes/contentHead.html %>	
		    <!-- /Content head -->
	
	    
<form id="wizard3" method="post" action="#" class="form-horizontal row-fluid well">
    <fieldset class="step" id="step1">
            <div class="step-title">
            	<i>1</i>
        		<h5>异常查询</h5>
        		<span>通过列表显示异常流程</span>
        	</div>
        	<div>
                <div class="control-group">
                    <label class="control-label">Username:</label>
                    <div class="controls"><input type="text" name="username" class="span12" /></div>
                </div>
                <div class="control-group">
                    <label class="control-label">Password:</label>
                    <div class="controls"><input type="password" class="span12" /></div>
                </div>
                <div class="control-group">
                    <label class="control-label">Email:</label>
                    <div class="controls"><input type="text" class="span12" /></div>
                </div>
            </div>
        </fieldset>
        <fieldset id="step2" class="step">
            <div class="step-title">
            	<i>2</i>
        		<h5>异常展现</h5>
        		<span>展现出对应异常详细信息</span>
        	</div>
        	<div>
                <div class="control-group">
                    <label class="control-label">Your city:</label>
                    <div class="controls"><input type="text" class="span12" /></div>
                </div>
                <div class="control-group">
                    <label class="control-label">Other details:</label>
                    <div class="controls"><input type="text" class="span12" /></div>
                </div>
            </div>
        </fieldset>
        
         <fieldset id="step3" class="step">
            <div class="step-title">
            	<i>3</i>
        		<h5>异常分析</h5>
        		<span>通过异常关键字分析出异常原因等信息</span>
        	</div>
        	<div>
                <div class="control-group">
                    <label class="control-label">Your city1:</label>
                    <div class="controls"><input type="text" class="span12" /></div>
                </div>
                <div class="control-group">
                    <label class="control-label">Other details1:</label>
                    <div class="controls"><input type="text" class="span12" /></div>
                </div>
            </div>
        </fieldset>
        <fieldset id="step4" class="step">
            <div class="step-title">
            	<i>4</i>
        		<h5>解决方案</h5>
        		<span>通过异常分析给出一个解决方案，解决或避免异常的出现</span>
        	</div>
        	<div>
                <div class="control-group">
                    <label class="control-label">Your city1:</label>
                    <div class="controls"><input type="text" class="span12" /></div>
                </div>
                <div class="control-group">
                    <label class="control-label">Other details1:</label>
                    <div class="controls"><input type="text" class="span12" /></div>
                </div>
            </div>
        </fieldset>
        <div class="form-actions align-right">
        	<div id="status2" class="status"></div>
            <input class="btn" id="back-3" value="Back" type="reset" />
            <input type="submit" class="btn btn-danger" id="next-3" value="Next">
        </div>

	</form>	    
</div>   
	    
<script type="text/javascript">
    var item ={
       "nodeId": "n1",
       "nodeName": "流程查询",
       "colour": "red",
       "ParentId": "",
       "Children": {
               "nodeId": "n2",
               "nodeName": "异常展示",
               "colour": "red",
               "ParentId": "n1",
               "Children": {
                   "nodeId": "n3",
                   "nodeName": "异常分析",
                   "colour": "red",
                   "ParentId": "n2",
                   "Children": {
                       "nodeId": "n4",
                       "nodeName": "解决方案",
                       "colour": "red",
                       "ParentId": "n3"
                }
            }
        }
    }


    var flow 
    $(function() {
        flow = new Flow("paper", 1200, 150,item,4);        
        flow.draw(1);
    });
    
    function pre(){ 

        flow.pre();
    }
       
    function next(){
    
        flow.next();
    }
    
    
	//===== Form wizards =====//

	
	$("#wizard3").formwizard({ 
	 	formPluginEnabled: true,
	 	validationEnabled: false,
	 	focusFirstInput : false,
	 	formOptions :{
			success: function(data){$("#status2").fadeTo(500,1,function(){ $(this).html("<span>Form was submitted!</span>").fadeTo(5000, 0); })},
			beforeSubmit: function(data){$("#data2").html("<span>Form was submitted with ajax. Data sent to the server: " + $.param(data) + "</span>");},
			resetForm: true
	 	},
	 	inAnimation : {height: 'show'},
        outAnimation: {height: 'hide'},
		inDuration : 400,
		outDuration: 400,
		easing: 'easeInBack'	//see e.g. http://gsgd.co.uk/sandbox/jquery/easing/ for information on easing
	 }
	);

	
	//===== Flow =====//
	
	$("#wizard3").bind("step_shown", function(event, data){
	    if(flow != undefined){
            if(data.isBackNavigation == true)
		        flow.pre();
		    else
		        flow.next();
		}
	});
	

</script>